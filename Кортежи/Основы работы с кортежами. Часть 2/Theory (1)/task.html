<html>
 <head></head>
 <body>
  <h2 style="text-align: center;">Упаковка кортежей</h2> 
  <p><strong>Упаковкой кортежа</strong> называют присваивание его какой-либо&nbsp;переменной.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">tuple1 = (1, 2, 3)
tuple2 = ('b',)
tuple3 = ('red', 'green', 'blue', 'cyan')

print(type(tuple1))
print(type(tuple2))
print(type(tuple3))</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-1c">&lt;class 'tuple'&gt;
&lt;class 'tuple'&gt;
&lt;class 'tuple'&gt;</code></pre> 
  <p style="text-align: center;"><img alt="" height="303" src="https://ucarecdn.com/23ee63c0-df3b-48c4-a674-6646ded1c8ae/" width="800"></p> 
  <p>Обратите внимание&nbsp;на то, что упаковка выполняется всегда, когда справа от&nbsp;знака равенства стоит больше одного значения.</p> 
  <p>Приведенный ниже код автоматически запакует <code>1, 2, 3</code>&nbsp;и <code>'b',</code> в&nbsp;кортежи&nbsp;<code>(1, 2, 3)</code>&nbsp;и <code>('b', )</code>&nbsp;и присвоит их значения переменным <code>tuple1</code> и <code>tuple2</code>:</p> 
  <pre><code class="language-python">tuple1 = 1, 2, 3
tuple2 = 'b',

print(type(tuple1))
print(type(tuple2))</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-1c">&lt;class 'tuple'&gt;
&lt;class 'tuple'&gt;</code></pre> 
  <h2 style="text-align: center;">Распаковка кортежей</h2> 
  <p>Обратная операция, смысл которой в том, чтобы присвоить значения элементов кортежа отдельным переменным называется <strong>распаковкой кортежа</strong>.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">colors = ('red', 'green', 'blue', 'cyan')

(a, b, c, d) = colors

print(a)
print(b)
print(c)
print(d)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">red
green
blue
cyan</code></pre> 
  <p>В приведенном примере кортеж <code>colors</code> распаковывается в переменные <code>a, b, c, d</code>.</p> 
  <p style="text-align: center;"><img alt="" height="267" src="https://ucarecdn.com/6da4b10c-5080-4d0f-beea-13c525eb09bd/" width="766"></p> 
  <p>Мы можем опустить скобки слева от знака равенства:</p> 
  <pre><code class="language-python">colors = ('red', 'green', 'blue', 'cyan')
a, b, c, d = colors</code></pre> 
  <p>Количество переменных должно совпадать с числом элементов в кортеже.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">colors = ('red', 'green', 'blue', 'cyan')
a, b = colors</code></pre> 
  <p>приводит к ошибке:</p> 
  <pre><code class="language-no-highlight">ValueError: too many values to unpack</code></pre> 
  <p>Аналогично, приведенный ниже код:&nbsp;</p> 
  <pre><code class="language-python">colors = ('red', 'green', 'blue')
a, b, c, d = colors</code></pre> 
  <p>приводит к ошибке:</p> 
  <pre><code class="language-no-highlight">ValueError: not enough values to unpack (expected 4, got 3)</code></pre> 
  <p>Однако, если необходимо получить лишь какие-то отдельные значения, то в качестве "ненужных" переменных позволено использовать символ нижнего подчеркивания <code>_</code>.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">colors = ('red', 'green', 'blue')
a, b, _ = colors

print(a)
print(b)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">red
green</code></pre> 
  <p>Распаковка кортежей очень удобна на практике. По сути мы использовали ее, когда меняли местами значения&nbsp;двух переменных&nbsp;без использования временных переменных.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">a = 7
b = 17
a, b = b, a

print(a, b)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">17 7</code></pre> 
  <p><img alt="" height="49" src="https://ucarecdn.com/49adce78-3830-4075-ba1c-5753b4a14152/" style="float: left;" width="49">Сначала вычисляются все значения справа, и&nbsp;лишь затем они кладутся в&nbsp;левую часть оператора присваивания. Поэтому можно&nbsp;менять местами значения переменных <code>a</code> и <code>b</code>, написав:&nbsp;<code>a, b = b, a</code>.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">a, b, c = 3, 2, 1
b, a, c = c, a, b

print(b, c, a)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-python">1 2 3</code></pre> 
  <h2 style="text-align: center;">* при распаковке кортежей</h2> 
  <p>Как мы знаем, если при распаковке кортежа&nbsp;число элементов слева и&nbsp;справа не&nbsp;совпадает, то возникает ошибка времени исполнения.&nbsp;Есть способ собрать сразу&nbsp;<strong>несколько значений в&nbsp;одну переменную</strong>. Это делается при помощи звездочки перед именем переменной.</p> 
  <p>Рассмотрим программный код:</p> 
  <pre><code class="language-python">a, b, *tail = 1, 2, 3, 4, 5, 6</code></pre> 
  <p>В&nbsp;этом случае в переменной <code>a</code>&nbsp;будет записана единица, в переменной <code>b</code>&nbsp;— двойка, а&nbsp;в переменной<em>&nbsp;</em><code>tail</code>&nbsp;— список, состоящий из&nbsp;всех аргументов, которые не&nbsp;попали в&nbsp;предыдущие переменные. В&nbsp;данном случае <code>tail</code><em>&nbsp;</em>будет равен&nbsp;<code>[3, 4, 5, 6]</code>.</p> 
  <p>Учтите, что <code>tail</code> всегда будет списком, даже когда в&nbsp;него попадает лишь один элемент или даже ноль.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">a, b, *tail = 1, 2, 3

print(tail)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">[3]</code></pre> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">a, b, *tail = 1, 2

print(tail)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">[]</code></pre> 
  <p>Звездочка может быть только у&nbsp;одного аргумента, но&nbsp;необязательно у&nbsp;последнего.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">*names, surname = ('Стефани', 'Джоанн', 'Анджелина', 'Джерманотта')

print(names)
print(surname)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">['Стефани', 'Джоанн', 'Анджелина']
Джерманотта</code></pre> 
  <p>Аргумент со звездочкой может стоять и&nbsp;посередине.</p> 
  <pre><code class="language-python">singer = ('Freddie', 'Bohemian Rhapsody', 'Killer Queen', 'Love of my life', 'Mercury')

name, *songs, surname = singer

print(name)
print(songs)
print(surname)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">Freddie
['Bohemian Rhapsody', 'Killer Queen', 'Love of my life']
Mercury</code></pre> 
  <h2 style="text-align: center;">Примечания</h2> 
  <p><strong>Примечание 1.</strong> Если вы&nbsp;хотите&nbsp;распаковать единственное значение в&nbsp;кортеже, после имени переменной должна идти запятая.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">a = 1,      # не распаковка, а просто присвоение
b, = 1,     # распаковка

print(a)
print(b)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">(1,)
1</code></pre> 
  <p><strong>Примечание 2. </strong>Распаковывать можно не только кортеж, правая сторона может быть любой последовательностью (кортеж, строка или список).</p> 
  <pre><code class="language-python">info = ['timur', 'beegeek.org']
user, domain = info    # распаковка списка

print(user)
print(domain)

a, b, c, d = 'math'    # распаковка строки

print(a)
print(b)
print(c)
print(d)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">timur
beegeek.org
m
a
t
h</code></pre> 
  <p><strong>Примечание 3.</strong>&nbsp;Помимо метода&nbsp;<code>split()</code> строковый тип данных содержит метод <code>partition()</code>. Метод <code>partition()</code> принимает на вход один аргумент <code>sep</code>, разделяет&nbsp;строку при первом появлении <code>sep</code> и <strong>возвращает&nbsp;кортеж</strong>, состоящий из трех элементов:&nbsp;часть перед разделителем, сам разделитель и часть после разделителя. Если разделитель не найден, то кортеж содержит&nbsp;саму строку, за которой следуют две пустые строки.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">s1 = 'abc-de'.partition('-')
s2 = 'abc-de'.partition('.')
s3 = 'abc-de-fgh'.partition('-')

print(s1)
print(s2)
print(s3)</code></pre> 
  <p>выведет:</p> 
  <pre><code class="language-no-highlight">('abc', '-', 'de')
('abc-de', '', '')
('abc', '-', 'de-fgh')</code></pre> 
  <p><strong>Примечание 4.</strong>&nbsp;С&nbsp;использованием кортежей многие алгоритмы приобретают достаточно краткую форму. Например, вычисление чисел Фибоначчи может выглядеть следующим образом:</p> 
  <pre><code class="language-python">n = int(input())
f1, f2 = 1, 1
for i in range(n):
    print(f1)
    f1, f2 = f2, f1 + f2</code></pre> 
  <p><strong>Примечание 5.</strong> Замечательная серия <a href="https://habr.com/ru/post/319164/" rel="noopener noreferrer nofollow">статей</a> о коллекциях (<code>list, tuple, str, set, dict</code>) в Python.</p> 
  <h2 style="text-align: right;"><strong>Made with&nbsp;💛 by&nbsp;BEEGEEK</strong></h2>
 </body>
</html>