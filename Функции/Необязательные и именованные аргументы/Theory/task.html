<html>
 <head></head>
 <body>
  <h1>Тема урока: необязательные и именованные аргументы</h1> 
  <ol> 
   <li>Позиционные аргументы</li> 
   <li>Необязательные аргументы</li> 
   <li>Именованные аргументы</li> 
  </ol> 
  <p><strong>Аннотация.</strong>&nbsp;Урок посвящен необязательным и именованным аргументам.</p> 
  <h2 style="text-align: center;">Позиционные аргументы</h2> 
  <p>Все ранее написанные нами функции имели&nbsp;<strong>позиционные аргументы</strong>. Такие аргументы передаются без указания имен. Они называются&nbsp;<strong>позиционными</strong>, потому что именно по позиции, расположению аргумента, функция&nbsp;понимает, какому параметру он&nbsp;соответствует.</p> 
  <p>Рассмотрим следующий код:&nbsp;</p> 
  <pre><code class="language-python">def diff(x, y):
    return x - y


res = diff(10, 3)    # используем позиционные аргументы
print(res)</code></pre> 
  <p>Такой код выведет&nbsp;число $7$. При вызове функции <code>diff()</code>&nbsp;<span style="color: #ff4363;"><strong>первому</strong></span> параметру <code>x</code> будет соответствовать <span style="color: #ff4363;"><strong>первый</strong></span> переданный аргумент, $10$, а <span style="color: #a03881;"><strong>второму</strong></span> параметру <code>y</code> &nbsp;— <strong><span style="color: #a03881;">второй</span></strong> аргумент, $3$.</p> 
  <p>В Python&nbsp;можно использовать не только позиционные, но и именованные аргументы.</p> 
  <h2 style="text-align: center;">Именованные аргументы</h2> 
  <p>Аргументы,&nbsp;передаваемые с&nbsp;именами, называются&nbsp;<strong>именованными</strong>.&nbsp;При вызове функции можно использовать имена параметров из ее определения. Исключение составляют списки аргументов неопределенной длины, где используются аргументы со&nbsp;звездочкой, но об этом в следующем уроке. Все функции из предыдущих уроков можно вызывать, передавая им&nbsp;именованные аргументы.</p> 
  <p>Рассмотрим следующий код:&nbsp;</p> 
  <pre><code class="language-python">def diff(x, y):
    return x - y


res = diff(x=10, y=3)   # используем именованные аргументы
print(res)</code></pre> 
  <p>Такой код&nbsp;по-прежнему выведет число $7$. При вызове функции <code>diff()</code> мы явно указываем, что параметру <code>x</code> соответствует аргумент $10$, а параметру <code>y</code>— аргумент $3$.</p> 
  <p>Использование именованных аргументов позволяет нарушать их позиционный порядок при вызове функции. Порядок упоминания именованных аргументов не имеет значения!</p> 
  <p>Мы можем вызвать функцию <code>diff()</code> так:</p> 
  <pre><code class="language-python">res = diff(y=3, x=10)</code></pre> 
  <p>и получить тот же результат $7$.</p> 
  <p><img alt="" height="49" src="https://ucarecdn.com/c5b00179-f85f-4202-a9ba-e780850e63f8/" style="float: left;" width="49">Возможность использования именованных аргументов&nbsp;— еще один повод давать параметрам значащие, а&nbsp;не&nbsp;однобуквенные имена.</p> 
  <h3 style="text-align: center;">Когда стоит применять именованные аргументы</h3> 
  <p>Каких-то строгих правил на этот счёт не существует. Однако широко практикуется такой подход: если функция принимает&nbsp;больше трёх аргументов, нужно хотя бы часть из них указать по имени. Особенно важно именовать значения аргументов, когда они относятся к одному типу, ведь&nbsp;без имен очень трудно понять, что делает функция с подобным вызовом.</p> 
  <p>Рассмотрим определение функции <code>make_circle()</code>&nbsp;для рисования круга:</p> 
  <pre><code class="language-python">def make_circle(x, y, radius, line_width, fill):
    # тело функции</code></pre> 
  <p>Вызвать такую функцию можно так:</p> 
  <pre><code class="language-python">make_circle(200, 300, 17, 2.5, True)</code></pre> 
  <p>Тут непросто понять, какие параметры круга задают числа&nbsp;$200$, $300$ или $17$.</p> 
  <p>Сравните:</p> 
  <pre><code class="language-python">make_circle(x=200, y=300, radius=17, line_width=2.5, fill=True)</code></pre> 
  <p>Такой код читать значительно проще!</p> 
  <p><img alt="" height="49" src="https://ucarecdn.com/4a26a793-56ea-44a2-b570-5ed609cf50b7/" style="float: left;" width="49">В соответствии с PEP 8 при указании значений&nbsp;именованных аргументов при вызове функции знак равенства не&nbsp;окружается пробелами.</p> 
  <p>Когда значение аргументов&nbsp;очевидно, можно их не именовать. Да, очевидность относительна, но&nbsp;обычно легко понять, что скрывается за значениями при вызове функции&nbsp;<code>point3d(7, 50, 13)</code>&nbsp;или&nbsp;<code>rgb(7, 255, 45)</code>. В первом случае&nbsp;переданные аргументы – координаты точки в трехмерном пространстве, во втором –&nbsp;значения компонент&nbsp;<strong>red</strong>,&nbsp;<strong>green</strong>,&nbsp;<strong>blue</strong>&nbsp;некоторого цвета. Тут можно ориентироваться&nbsp;только на здравый смысл, жестких правил нет.</p> 
  <p>Мы уже сталкивались с именованными аргументами, когда вызывали функцию <code>print()</code>.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">print('aaaa', 'bbbbb', sep='*', end='##')
print('cccc', 'dddd', sep='()')
print('eeee', 'ffff', sep='123', end='python')</code></pre> 
  <p>использует именованные аргументы&nbsp;<code>sep</code> и <code>end</code> и выводит:</p> 
  <pre><code class="language-no-highlight">aaaa*bbbbb##cccc()dddd
eeee123ffffpython</code></pre> 
  <p>Используя именованные аргументы&nbsp;<code>sep</code> и <code>end</code>&nbsp;можно не&nbsp;беспокоиться, какой из них&nbsp;указать первым.</p> 
  <p><img alt="" height="49" src="https://ucarecdn.com/d9006371-1352-46d7-a2ab-4c627f8f653e/" width="49">&nbsp; &nbsp;Напомним, что значение&nbsp;по умолчанию для&nbsp;<code>sep=' '</code>&nbsp;(символ&nbsp;пробела),&nbsp;&nbsp;а для <code>end='\n'</code>&nbsp;(символ перевода строки).</p> 
  <h3 style="text-align: center;">Комбинирование позиционных и именованных аргументов</h3> 
  <p>Мы можем вызывать функции, используя&nbsp;именованные и позиционные аргументы одновременно. Но позиционные значения должны быть указаны&nbsp;<strong>до</strong>&nbsp;любых именованных!</p> 
  <p>Для функции <code>diff()</code>&nbsp;код:</p> 
  <pre><code class="language-python">res = diff(10, y=3)   # используем позиционный и именованный аргумент</code></pre> 
  <p>работает как полагается, при этом параметру <code>x</code> соответствует значение $10$.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">res = diff(x=10, 3)   # используем позиционный и именованный аргумент</code></pre> 
  <p>приводит к&nbsp;возникновению&nbsp;ошибки&nbsp;<code>SyntaxError: positional argument follows keyword argument</code>.</p> 
  <h2 style="text-align: center;">Необязательные аргументы</h2> 
  <p>Бывает, что какой-то параметр функции часто принимает одно и&nbsp;то&nbsp;же значение. Например, для функции <code>print()</code>&nbsp;создатели языка Python установили значения параметров <code>sep</code> и <code>end</code> равными символу пробела и символу перевода строки, поскольку эти значения используют наиболее часто.</p> 
  <p>Другим примером служит&nbsp;функция <code>int()</code>&nbsp;,&nbsp;преобразующая строку в число. Она принимает два аргумента:</p> 
  <ul> 
   <li>первый аргумент: строка, которую нужно преобразовать в&nbsp;число;</li> 
   <li>второй аргумент: основание <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F" rel="noopener noreferrer nofollow">системы счисления</a>.</li> 
  </ul> 
  <p>Это позволяет ей&nbsp;считывать числа в&nbsp;различных системах счисления.</p> 
  <p>Приведенный ниже код, преобразует&nbsp;двоичное число $101$:</p> 
  <pre><code class="language-python">num = int('101', 2)     # аргумент 2 указывает на то, что число 101 записано в двоичной системе</code></pre> 
  <p>В переменной <code>num</code> будет храниться число $5$, так как $101_{2} = 5_{10}$.</p> 
  <p>Но&nbsp;чаще всего эта функция используется для считывания из&nbsp;строки чисел, записанных в&nbsp;десятичной системе счисления. Утомительно каждый раз писать $10$ вторым аргументом. В таких ситуациях Python позволяет задавать некоторым параметрам значения по&nbsp;умолчанию. У&nbsp;функции <code>int()</code> второй параметр по&nbsp;умолчанию равен $10$, и&nbsp;потому можно вызывать эту функцию с&nbsp;одним аргументом. Значение второго подставится автоматически.</p> 
  <p>Чтобы задать <strong>значение параметра по&nbsp;умолчанию</strong>, в&nbsp;списке параметров функции достаточно после имени переменной написать знак равенства и&nbsp;нужное значение.</p> 
  <p>Параметры со значением&nbsp;по&nbsp;умолчанию&nbsp;идут последними, ведь иначе интерпретатор не&nbsp;смог&nbsp;бы понять, какой из&nbsp;аргументов указан, а&nbsp;какой пропущен, и&nbsp;для него нужно использовать значение по&nbsp;умолчанию.</p> 
  <p>Рассмотрим все то же определение функции <code>make_circle()</code>, которая рисует круг:</p> 
  <pre><code class="language-python">def make_circle(x, y, radius, line_width, fill):
    # тело функции</code></pre> 
  <p>Поскольку обычно нам нужно рисовать круг с шириной линии, равной $1$ с заливкой, то логично установить данные значения в качестве значений по умолчанию:</p> 
  <pre><code class="language-python">def make_circle(x, y, radius, line_width=1, fill=True):
    # тело функции</code></pre> 
  <p>Теперь для того, чтобы нарисовать стандартный&nbsp;круг, то есть круг имеющий ширину линии, равную $1$ с заливкой, мы вызываем функцию так:</p> 
  <pre><code class="language-python">make_circle(100, 50, 20)</code></pre> 
  <p>или так:</p> 
  <pre><code class="language-python">make_circle(x=100, y=50, radius=20)</code></pre> 
  <p>Если вам хочется поменять ширину линии и заливку, то вы легко можете это сделать:</p> 
  <pre><code class="language-python">make_circle(x=100, y=50, radius=20, fill=False)                   # line_width=1, fill=False
make_circle(x=100, y=50, radius=20, line_width=3)                 # fill=True, line_width=3
make_circle(x=100, y=50, radius=20, line_width=5, fill=False)     # line_width=5, fill=False</code></pre> 
  <p><img alt="" height="49" src="https://ucarecdn.com/8aafd27a-49a0-44b5-8699-6020d7698319/" width="49">&nbsp; &nbsp;В соответствии с стандартом PEP 8 и при объявлении аргументов по&nbsp;умолчанию&nbsp;пробел вокруг знака равенства не&nbsp;ставят.</p> 
  <h3 style="text-align: center;">Изменяемые типы в качестве значений по умолчанию</h3> 
  <p>При использовании <strong>изменяемых типов данных</strong> в качестве значения параметра по умолчанию можно столкнуться с неожиданными результатами работы функции.</p> 
  <p>Рассмотрим определение функции <code>append()</code>, где в качестве значения по умолчанию используется изменяемый тип данных (список, тип <code>list</code>):</p> 
  <pre><code class="language-python">def append(element, seq=[]):
    seq.append(element)
    return seq</code></pre> 
  <p>Вызывая функцию <code>append()</code> следующим&nbsp;образом:</p> 
  <pre><code class="language-python">print(append(10, [1, 2, 3]))
print(append(5, [1]))
print(append(1, []))
print(append(3, [4, 5]))</code></pre> 
  <p>получим ожидаемый вывод:</p> 
  <pre><code class="language-no-highlight">[1, 2, 3, 10]
[1, 5]
[1]
[4, 5, 3]</code></pre> 
  <p>А если вызовем функцию <code>append()</code> так:</p> 
  <pre><code class="language-python">print(append(10))
print(append(5))
print(append(1))</code></pre> 
  <p>&nbsp;получим <strong>не совсем</strong> ожидаемый вывод:</p> 
  <pre><code class="language-no-highlight">[10]
[10, 5]
[10, 5, 1]</code></pre> 
  <p>Что&nbsp;происходит? Значение по умолчанию для параметра&nbsp;создается единожды при определении функции (обычно при загрузке модуля) и становится атрибутом (свойством)&nbsp;функции.&nbsp;Поэтому, если значение по умолчанию&nbsp;изменяемый объект, то его изменение повлияет на каждый следующий&nbsp;вызов функции.</p> 
  <p>Чтобы посмотреть значения по умолчанию, можно использовать атрибут <code>__defaults__</code>.</p> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">def append(element, seq=[]):
    seq.append(element)
    return seq

print('Значение по умолчанию', append.__defaults__)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">Значение по умолчанию ([],)</code></pre> 
  <p>Приведенный ниже код:</p> 
  <pre><code class="language-python">def append(element, seq=[]):
    seq.append(element)
    return seq

print('Значение по умолчанию', append.__defaults__)
print(append(10))
print('Значение по умолчанию', append.__defaults__)
print(append(5))
print('Значение по умолчанию', append.__defaults__)
print(append(1))
print('Значение по умолчанию', append.__defaults__)</code></pre> 
  <p>выводит:</p> 
  <pre><code class="language-no-highlight">Значение по умолчанию ([],)
[10]
Значение по умолчанию ([10],)
[10, 5]
Значение по умолчанию ([10, 5],)
[10, 5, 1]
Значение по умолчанию ([10, 5, 1],)</code></pre> 
  <p>Для решения&nbsp;проблемы можно использовать константу&nbsp;<code>None</code> в качестве значения параметра по умолчанию, а в теле функции устанавливать нужное значение:</p> 
  <pre><code class="language-python">def append(element, seq=None):
    if seq is None:
        seq = []
    seq.append(element)
    return seq</code></pre> 
  <p>Вызывая функцию <code>append()</code> следующий образом:</p> 
  <pre><code class="language-python">print(append(10))
print(append(5))
print(append(1))</code></pre> 
  <p>&nbsp;получим <strong>ожидаемый вывод</strong>:</p> 
  <pre><code class="language-no-highlight">[10]
[5]
[1]</code></pre> 
  <p><img alt="" height="49" src="https://ucarecdn.com/16537323-1617-4c62-96f0-7296fec2add4/" width="49">&nbsp; &nbsp;Подход, основанный на значении <code>None</code>,&nbsp;общепринятый в Python.</p> 
  <h2 style="text-align: center;">Примечания</h2> 
  <p><strong>Примечание 1.</strong> При написании функций стоит указывать более важные параметры первыми.</p> 
  <p><strong>Примечание 2.</strong> Именованные аргументы часто используют&nbsp;вместе со&nbsp;значениями по&nbsp;умолчанию.</p> 
  <p><strong>Примечание 3.</strong> Именованные и&nbsp;позиционные аргументы не&nbsp;всегда хорошо ладят друг с&nbsp;другом. При вызове функции позиционные аргументы должны обязательно идти перед именованными аргументами.</p> 
  <p><strong>Примечание 4.</strong> Параметр в программировании — принятый функцией аргумент. Термин «аргумент» подразумевает, что конкретно и какой конкретной функции было передано, а параметр — в каком качестве функция применила это принятое. То есть вызывающий код передает аргумент в параметр, который определен в описании (заголовке) функции.</p> 
  <ul> 
   <li><strong>P</strong>arameter&nbsp;→ <strong>P</strong>laceholder (заполнитель принадлежит имени функции и используется в теле функции);</li> 
   <li><strong>A</strong>rgument&nbsp;→ <strong>A</strong>ctual value (фактическое значение, которое передается при вызове функции).</li> 
  </ul> 
  <p>Подробнее можно почитать <a href="https://stackoverflow.com/questions/156767/whats-the-difference-between-an-argument-and-a-parameter" rel="noopener noreferrer nofollow">тут</a>.</p> 
  <p><strong>Примечание 5.</strong> Отличная <a href="https://habr.com/ru/company/ruvds/blog/515678/" rel="noopener noreferrer nofollow">статья</a> на хабре про аргументы функций в Python.</p> 
  <h2 style="text-align: right;"><strong>Made with&nbsp;💛 by&nbsp;BEEGEEK</strong></h2>
 </body>
</html>